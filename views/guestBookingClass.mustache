<html>
    <head>
        {{>header}}
    </head>
    <body class="bg-dark">
        <div class="container">
            <div class="card bg-info">
                <div class="card-body mx-3 mt-3 rounded-top bg-warning">
                    {{>websiteHeading}}
                    {{>buttonsIndex}}                
                </div>
                <div class="card-body mt-2 p-2 bg-info align-content-center">                        
                    <div class="card-title mt-2 mx-3 p-2 bg-warning text-center rounded-top">
                        <h2 class="m-0">Guest Class Booking Form</h2>
                    </div>
                    
                    {{#classes}}
                    <div class="card-body bg-info mx-3 mt-2">
                        <div class="row">
                            
                            <div class="col-md-8 d-flex flex-column ">  
                                <div class="border bg-primary border-dark rounded h-100">  
                                    <div class="card-header p-2 d-flex bg-warning rounded-top">
                                        <div class="col-md-8">                                        
                                            <p class="mb-0 fw-bold d-inline">Class: <span class="fs-4 fw-bold">{{class_title}}</span></p>
                                        </div>
                                        <div class="col-md-4 text-end">
                                            <p class="card-text mb-0 fw-bold d-inline">Cost: <span class="fw-bold fs-4">{{cost}}</span></p>
                                        </div>
                                    </div>
                                    
                                    <div class="card-body mt-2 p-3 flex-grow-1">  
                                        <div class="row">
                                            <div class="col-md-6 mt-2">
                                                <div class="form-group mb-0">
                                                    <p class="fw-bold mb-0">Location:</p>
                                                    <div class="card-text p-1 bg-light rounded mb-0">
                                                        <p class="mb-0">{{location}}</p>                                                                                                                                            
                                                    </div>
                                                </div>

                                                <div class="form-group mt-2 mb-0">
                                                    <p class="fw-bold mb-0">Duration:</p>
                                                    <div class="card-text p-1 bg-light rounded mb-0">
                                                        <p class="mb-0">{{duration}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mt-2">
                                                <div class="form-group mb-0">
                                                    <p class="fw-bold mb-0">Start Date:</p>
                                                    <div class="card-text p-1 bg-light rounded mb-0">
                                                        <p class="mb-0">{{start_date}}</p>                                                                                                                                            
                                                    </div>
                                                </div>

                                                <div class="form-group mt-2 mb-0">
                                                    <p class="fw-bold mb-0">Start Time:</p>
                                                    <div class="card-text p-1 bg-light rounded mb-0">
                                                        <p class="mb-0">{{start_time}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-3">
                                            <p class="mb-0"><u><strong>Class Description:</strong></u></p>
                                            <p class="bg-light p-2 border border-dark rounded" style="white-space: pre-line; min-height: 100px; max-height: 100px; overflow-y: auto;">{{description}}</p>
                                        </div>
                                    </div>
                                </div>  
                            </div>
                            
                            
                            <div class="col-md-4">  
                                <div class="border border-dark rounded h-100 d-flex flex-column">
                                    <div class="card-header p-2 text-center bg-warning rounded-top">
                                        <p class="mb-0 fw-bold fs-4 text-center d-inline">Guest Details</p>
                                    </div>
                                    
                                    <div class="card-body bg-primary rounded p-3 flex-grow-1">  
                                        <form method="POST" for="guestFormBooking" action="/guest_book_class/{{_id}}" class="h-100 d-flex flex-column"> 
                                            <div class="form-group">                                       
                                                <label for="guestEmail" class="font-weight-bold">email</label>                                            
                                                <input type="email" id="guestEmail" name="guestEmail" class="form-control {{#errors.guestEmail}}is-invalid{{/errors.guestEmail}}" placeholder="enter email" value="{{formData.guestEmail}}" required>
                                                {{#errors.guestEmail}}
                                                    <div class="invalid-feedback">{{errors.guestEmail.msg}}</div>
                                                {{/errors.guestEmail}}
                                            </div>
                                            <div class="form-group">                                       
                                                <label for="firstName" class="font-weight-bold">first name</label>                                            
                                                <input type="text" id="firstName" name="firstName" class="form-control {{#errors.firstName}}is-invalid{{/errors.firstName}}" placeholder="enter first name" value="{{formData.firstName}}" required>
                                                {{#errors.firstName}}
                                                    <div class="invalid-feedback">{{errors.firstName.msg}}</div>
                                                {{/errors.firstName}}
                                            </div>
                                            <div class="form-group">                                       
                                                <label for="surname" class="font-weight-bold">surname</label>
                                                <input type="text" id="surname" name="surname" class="form-control {{#errors.surname}}is-invalid{{/errors.surname}}" placeholder="enter surname" value="{{formData.surname}}" required>
                                                {{#errors.surname}}
                                                    <div class="invalid-feedback">{{errors.surname.msg}}</div>
                                                {{/errors.surname}}
                                            </div>

                                            <div class="mt-auto pt-3"> 
                                                <button type="submit" class="btn btn-dark float-end">Confirm booking</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {{/classes}}
                </div>                                          
            </div>
        </div>
    </body>
</html>